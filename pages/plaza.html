<!-- CC0 -->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>Plaza — Fantasy Castle Town</title>
<link rel="stylesheet" href="../asset/css/style.css"/>
<style>
  :root{--paper:#0b0f16;--ink:#eaf1ff}
  html,body{height:100%}
  body{
    margin:0;background:
      radial-gradient(1200px 800px at 50% -15%,rgba(255,255,255,.08),transparent 60%),
      radial-gradient(900px 640px at 120% 110%,rgba(255,255,255,.06),transparent 60%),
      linear-gradient(180deg,#0a0e1a 0%, #0b1220 50%, #0a0e1a 100%);
    color:#eaf1ff; overflow:hidden; touch-action:manipulation;
    font:14px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  }
  .topbar{
    position:fixed;left:0;right:0;top:0;display:flex;gap:.6rem;flex-wrap:wrap;justify-content:center;
    padding:.5rem .75rem;background:linear-gradient(180deg,rgba(0,0,0,.55),rgba(0,0,0,0));z-index:10
  }
  .topbar a{
    font:600 13px system-ui;padding:.35rem .6rem;border-radius:.45rem;
    text-decoration:none;background:rgba(255,255,255,.08);color:#e6e9ff;border:1px solid rgba(255,255,255,.15)
  }
  #mapwrap{position:fixed; inset:0; display:grid; place-items:center; z-index:1}
  svg{width:min(1600px,100vw);height:min(1000px,100vh);display:block}
  .tile{fill:rgba(255,255,255,.05); stroke:rgba(255,255,255,.2); stroke-width:1.6}
  .outline{stroke:rgba(255,255,255,.18);stroke-width:2;paint-order:stroke fill}
  .label{font:700 14px ui-monospace,Menlo,Consolas,monospace;fill:#eaf1ff}
  a.building{cursor:pointer}
  a.building .halo{opacity:0;transition:opacity .15s}
  a.building:hover .halo, a.building:focus-visible .halo{opacity:.85}
  #ui{position:fixed;right:.75rem;bottom:.75rem;z-index:11;display:flex;gap:.4rem}
  #ui button{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.2);color:#eaf1ff;border-radius:.5rem;padding:.45rem .6rem;font:600 13px system-ui}
  #hud{position:fixed;left:.75rem;bottom:.75rem;z-index:11;background:rgba(0,0,0,.55);border:1px solid rgba(255,255,255,.18);border-radius:.5rem;padding:.5rem .65rem;font:12px ui-monospace,Menlo,Consolas,monospace;color:#cde1ff;max-width:60vw}
  .stars{position:fixed;inset:0;pointer-events:none;opacity:.5}
</style>
</head>
<body>
  <div class="topbar"><a href="../index.html">Home</a></div>
  <canvas class="stars" id="stars"></canvas>

  <div id="mapwrap">
    <svg viewBox="0 0 1600 1000" role="img" aria-label="Fantasy Castle Town map">
      <defs>
        <radialGradient id="g-hollow" cx="50%" cy="40%">
          <stop offset="0" stop-color="#14201c"/><stop offset="1" stop-color="#0b1116"/>
        </radialGradient>
        <linearGradient id="g-path" x1="0" x2="1">
          <stop offset="0" stop-color="#2b2a1f"/><stop offset="1" stop-color="#3a3828"/>
        </linearGradient>
        <linearGradient id="g-water" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0" stop-color="#0e1d33"/><stop offset="1" stop-color="#0a1420"/>
        </linearGradient>
      </defs>

      <!-- Lake + island -->
      <ellipse cx="800" cy="520" rx="720" ry="420" fill="url(#g-water)" opacity=".25"/>
      <ellipse cx="800" cy="520" rx="640" ry="360" fill="url(#g-hollow)"/>

      <!-- Plaza ring -->
      <circle cx="800" cy="520" r="240" fill="none" stroke="rgba(255,255,255,.14)" stroke-width="3"/>
      <circle cx="800" cy="520" r="245" fill="none" stroke="rgba(165,214,255,.20)" stroke-width="1" stroke-dasharray="6 8"/>

      <!-- Paths -->
      <path d="M800,520 L800,260" stroke="url(#g-path)" stroke-width="18" opacity=".55"/>
      <path d="M800,520 L560,380" stroke="url(#g-path)" stroke-width="16" opacity=".5"/>
      <path d="M800,520 L1040,380" stroke="url(#g-path)" stroke-width="16" opacity=".5"/>
      <path d="M800,520 L560,680" stroke="url(#g-path)" stroke-width="16" opacity=".5"/>
      <path d="M800,520 L1040,680" stroke="url(#g-path)" stroke-width="16" opacity=".5"/>

      <!-- ===== Buildings ===== -->

      <!-- Palace — White Star & ReyCzar -->
      <a class="building" xlink:href="../buildings/palace.html">
        <g transform="translate(800,220)">
          <ellipse class="tile" rx="120" ry="55"/>
          <g class="halo"><circle r="74" fill="none" stroke="#a5d6ff" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-36,-28) scale(1.2)">
            <rect x="0" y="24" width="72" height="38" fill="#2b2e48" class="outline"/>
            <rect x="-8" y="10" width="24" height="28" fill="#2b2e48" class="outline"/>
            <rect x="56" y="10" width="24" height="28" fill="#2b2e48" class="outline"/>
            <rect x="28" y="0" width="16" height="20" fill="#2b2e48" class="outline"/>
            <rect x="30" y="44" width="12" height="18" fill="#0f1322" class="outline"/>
          </g>
          <text class="label" text-anchor="middle" y="88">Palace — White Star & ReyCzar</text>
        </g>
      </a>

      <!-- Abby — Grand Vault -->
      <a class="building" xlink:href="../buildings/abbey.html">
        <g transform="translate(540,360)">
          <ellipse class="tile" rx="110" ry="50"/>
          <g class="halo"><circle r="68" fill="none" stroke="#ffd77a" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-30,-20) scale(1.2)">
            <rect x="0" y="10" width="60" height="40" rx="8" fill="#483f2b" class="outline"/>
            <circle cx="30" cy="30" r="10" fill="#1a120a" class="outline"/>
          </g>
          <text class="label" text-anchor="middle" y="78">Abbey — Grand Vault</text>
        </g>
      </a>

      <!-- Billie — Mansion -->
      <a class="building" xlink:href="../buildings/billie.html">
        <g transform="translate(1060,360)">
          <ellipse class="tile" rx="110" ry="50"/>
          <g class="halo"><circle r="68" fill="none" stroke="#9dd5ff" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-38,-20) scale(1.15)">
            <rect x="0" y="18" width="76" height="36" rx="6" fill="#213048" class="outline"/>
            <rect x="8" y="24" width="60" height="10" fill="#102238"/>
            <rect x="8" y="36" width="60" height="10" fill="#102238"/>
          </g>
          <text class="label" text-anchor="middle" y="78">Billie — Mansion</text>
        </g>
      </a>

      <!-- Odessa -->
      <a class="building" xlink:href="../buildings/odessa.html">
        <g transform="translate(420,520)">
          <ellipse class="tile" rx="110" ry="48"/>
          <g class="halo"><circle r="65" fill="none" stroke="#ffc0d4" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-40,-18) scale(1.1)">
            <rect x="0" y="20" width="80" height="34" fill="#40283a" class="outline"/>
            <rect x="10" y="10" width="60" height="16" fill="#40283a" class="outline"/>
          </g>
          <text class="label" text-anchor="middle" y="76">Odessa — Museum Mansion</text>
        </g>
      </a>

      <!-- Sorcha -->
      <a class="building" xlink:href="../buildings/sorcha.html">
        <g transform="translate(1180,520)">
          <ellipse class="tile" rx="110" ry="48"/>
          <g class="halo"><circle r="65" fill="none" stroke="#ff7aa8" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-42,-20) scale(1.1)">
            <rect x="0" y="20" width="84" height="34" fill="#44203a" class="outline"/>
            <circle cx="22" cy="38" r="6" fill="#101020"/><rect x="34" y="30" width="36" height="16" fill="#101020"/>
          </g>
          <text class="label" text-anchor="middle" y="76">Sorcha — Influencer Mansion</text>
        </g>
      </a>

      <!-- Nina -->
      <a class="building" xlink:href="../buildings/nina.html">
        <g transform="translate(540,680)">
          <ellipse class="tile" rx="110" ry="48"/>
          <g class="halo"><circle r="64" fill="none" stroke="#8fd1ff" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-38,-18) scale(1.15)">
            <rect x="0" y="18" width="76" height="36" rx="6" fill="#163244" class="outline"/>
            <rect x="10" y="26" width="24" height="6" fill="#0b1e2b"/>
            <rect x="40" y="26" width="24" height="6" fill="#0b1e2b"/>
          </g>
          <text class="label" text-anchor="middle" y="76">Nina — Cyber/Steam Lab</text>
        </g>
      </a>

      <!-- Charlotte -->
      <a class="building" xlink:href="../buildings/charlotte.html">
        <g transform="translate(1060,680)">
          <ellipse class="tile" rx="110" ry="48"/>
          <g class="halo"><circle r="64" fill="none" stroke="#b8dcff" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-8,-30)">
            <rect x="-12" y="18" width="24" height="90" fill="#25384a" class="outline"/>
            <polygon points="-10,18 0,0 10,18" fill="#25384a" class="outline"/>
            <line x1="-12" y1="60" x2="12" y2="60" stroke="#7aa3d8" stroke-width="2"/>
            <line x1="-12" y1="42" x2="12" y2="42" stroke="#7aa3d8" stroke-width="2"/>
          </g>
          <text class="label" text-anchor="middle" y="76">Charlotte — Relay Tower</text>
        </g>
      </a>

      <!-- Themis -->
      <a class="building" xlink:href="../buildings/themis.html">
        <g transform="translate(800,740)">
          <ellipse class="tile" rx="110" ry="50"/>
          <g class="halo"><circle r="66" fill="none" stroke="#9fead1" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-36,-18) scale(1.1)">
            <rect x="0" y="18" width="72" height="36" fill="#1c2a2c" class="outline"/>
            <rect x="28" y="26" width="16" height="20" fill="#0d1718" class="outline"/>
          </g>
          <text class="label" text-anchor="middle" y="78">Themis — Chamber of Compliance</text>
        </g>
      </a>

      <!-- Clarice -->
      <a class="building" xlink:href="../buildings/clarice.html">
        <g transform="translate(960,780)">
          <ellipse class="tile" rx="110" ry="46"/>
          <g class="halo"><circle r="62" fill="none" stroke="#c7d0ff" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-40,-16) scale(1.05)">
            <rect x="0" y="24" width="80" height="32" fill="#1b2230" class="outline"/>
            <polygon points="0,24 40,4 80,24" fill="#1b2230" class="outline"/>
          </g>
          <text class="label" text-anchor="middle" y="72">Clarice — City Hall</text>
        </g>
      </a>

      <!-- Carol -->
      <a class="building" xlink:href="../buildings/carol.html">
        <g transform="translate(640,780)">
          <ellipse class="tile" rx="108" ry="46"/>
          <g class="halo"><circle r="62" fill="none" stroke="#ffd09c" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-38,-18) scale(1.05)">
            <rect x="0" y="26" width="76" height="30" fill="#3a2a1a" class="outline"/>
            <rect x="18" y="22" width="40" height="10" fill="#4d3520" class="outline"/>
          </g>
          <text class="label" text-anchor="middle" y="72">Carol — Restaurant (Dojo)</text>
        </g>
      </a>

      <!-- Jem -->
      <a class="building" xlink:href="../buildings/jem.html">
        <g transform="translate(540,840)">
          <ellipse class="tile" rx="104" ry="42"/>
          <g class="halo"><circle r="60" fill="none" stroke="#d9ffb3" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-40,-14) scale(1.0)">
            <rect x="0" y="26" width="80" height="28" fill="#2a2c1e" class="outline"/>
            <polygon points="0,26 40,8 80,26" fill="#2a2c1e" class="outline"/>
          </g>
          <text class="label" text-anchor="middle" y="68">Jem — Dojo</text>
        </g>
      </a>

      <!-- Stella -->
      <a class="building" xlink:href="../buildings/stella.html">
        <g transform="translate(640,260)">
          <ellipse class="tile" rx="100" ry="42"/>
          <g class="halo"><circle r="60" fill="none" stroke="#c8dcff" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-30,-20)">
            <circle cx="0" cy="36" r="18" fill="#223044" class="outline"/>
            <rect x="18" y="22" width="54" height="28" fill="#223044" class="outline"/>
          </g>
          <text class="label" text-anchor="middle" y="68">Stella — Observatory</text>
        </g>
      </a>

      <!-- Tracy -->
      <a class="building" xlink:href="../buildings/tracy.html">
        <g transform="translate(960,260)">
          <ellipse class="tile" rx="100" ry="42"/>
          <g class="halo"><circle r="60" fill="none" stroke="#d8c0ff" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-30,-22)">
            <path d="M0,48 L0,24 Q30,0 60,24 L60,48 Z" fill="#2b1f33" class="outline"/>
            <rect x="24" y="34" width="12" height="12" fill="#120b16"/>
          </g>
          <text class="label" text-anchor="middle" y="68">Tracy — Cathedral Studio</text>
        </g>
      </a>

      <!-- Alexandria -->
      <a class="building" xlink:href="../buildings/alexandria.html">
        <g transform="translate(960,840)">
          <ellipse class="tile" rx="104" ry="42"/>
          <g class="halo"><circle r="60" fill="none" stroke="#d0f0b0" stroke-width="2" stroke-dasharray="8 10"/></g>
          <g transform="translate(-38,-14)">
            <rect x="0" y="26" width="76" height="28" fill="#23301c" class="outline"/>
            <rect x="8" y="30" width="60" height="6" fill="#121a10"/>
            <rect x="8" y="40" width="60" height="6" fill="#121a10"/>
          </g>
          <text class="label" text-anchor="middle" y="68">Alexandria — Library</text>
        </g>
      </a>
    </svg>
  </div>

  <div id="ui"><button id="zoomIn">＋</button><button id="zoomOut">－</button><button id="center">Center</button></div>
  <div id="hud">Tap a building to enter. The map is crisp SVG and optimized for iPad.</div>

<script>
  // tiny starfield (battery-friendly)
  (function stars(){
    const c=document.getElementById('stars'),x=c.getContext('2d');
    const DPR=Math.min(devicePixelRatio||1,2); c.width=innerWidth*DPR; c.height=innerHeight*DPR; c.style.width='100%'; c.style.height='100%';
    x.scale(DPR,DPR); x.clearRect(0,0,innerWidth,innerHeight);
    const n=Math.min(150,Math.floor((innerWidth*innerHeight)/14000));
    for(let i=0;i<n;i++){const r=Math.random()*1.6,a=.3+Math.random()*.7;x.fillStyle=`rgba(200,220,255,${a})`;x.beginPath();x.arc(Math.random()*innerWidth,Math.random()*innerHeight,r,0,Math.PI*2);x.fill();}
    addEventListener('resize',stars,{once:true});
  })();
  // simple zoom/pan
  (function zoomer(){
    const svg=document.querySelector('svg');let s=1,tx=0,ty=0;const apply=()=>{svg.style.transform=`translate(${tx}px,${ty}px) scale(${s})`;svg.style.transformOrigin='50% 50%';}
    zoomIn.onclick=()=>{s=Math.min(2,+(s+.1).toFixed(2));apply()}; zoomOut.onclick=()=>{s=Math.max(.7,+(s-.1).toFixed(2));apply()}; center.onclick=()=>{s=1;tx=ty=0;apply()};
    let p=null;svg.addEventListener('pointerdown',e=>{p={x:e.clientX,y:e.clientY,tx,ty};svg.setPointerCapture(e.pointerId)});
    svg.addEventListener('pointermove',e=>{if(!p)return;tx=p.tx+(e.clientX-p.x);ty=p.ty+(e.clientY-p.y);apply()}); svg.addEventListener('pointerup',()=>p=null); apply();
  })();
</script>
</body>
</html>
